
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;
    --card: 240 10% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 240 10% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 346.8 98.3% 49.6%;
    --primary-foreground: 0 0% 98%;
    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;
    --accent: 240 3.7% 15.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 346.8 98.3% 49.6%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;
    --card: 240 10% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 240 10% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 346.8 98.3% 49.6%;
    --primary-foreground: 0 0% 98%;
    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;
    --accent: 240 3.7% 15.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 346.8 98.3% 49.6%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .gradient-glow {
    background-image: linear-gradient(90deg, hsla(var(--primary), 0.8), hsla(var(--accent), 0.8), hsla(var(--primary), 0.8));
    background-size: 200% 200%;
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    animation: gradient-animation 8s ease-in-out infinite, glow-subtle 8s ease-in-out infinite;
  }

  @keyframes gradient-animation {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  @keyframes glow-subtle {
    0%, 100% {
      text-shadow: 0 0 15px hsla(var(--primary), 0.2), 0 0 25px hsla(var(--primary), 0.2);
    }
    50% {
      text-shadow: 0 0 25px hsla(var(--accent), 0.3), 0 0 40px hsla(var(--accent), 0.2);
    }
  }

  .shimmer-border {
    position: relative;
    overflow: hidden;
  }

  .shimmer-border::before {
    content: "";
    position: absolute;
    z-index: -1;
    top: -150%;
    left: -150%;
    width: 400%;
    height: 400%;
    background: conic-gradient(
      transparent,
      transparent,
      hsla(var(--primary), 0.8),
      transparent,
      transparent,
      transparent,
      transparent,
      transparent,
      transparent,
      transparent,
      transparent,
      hsla(var(--primary), 0.8)
    );
    animation: rotate 6s linear infinite;
  }

  @keyframes rotate {
    100% {
      transform: rotate(360deg);
    }
  }

  .jumbo {
    --stripes: repeating-linear-gradient(
      100deg,
      #000 0%,
      #000 7%,
      transparent 10%,
      transparent 12%,
      #000 16%
    );
    --rainbow: repeating-linear-gradient(
      100deg,
      #60a5fa 10%,
      #e879f9 15%,
      #60a5fa 20%,
      #5eead4 25%,
      #60a5fa 30%
    );
    background-image: var(--stripes), var(--rainbow);
    background-size: 300%, 200%;
    background-position: 50% 50%, 50% 50%;
    filter: invert(100%);
    -webkit-mask-image: radial-gradient(ellipse at 100% 0%, black 40%, transparent 70%);
    mask-image: radial-gradient(ellipse at 100% 0%, black 40%, transparent 70%);
    pointer-events: none;
  }
  .jumbo::after {
    content: "";
    position: absolute;
    inset: 0;
    background-image: var(--stripes), var(--rainbow);
    background-size: 200%, 100%;
    animation: jumbo 60s linear infinite;
    background-attachment: fixed;
    mix-blend-mode: difference;
  }

  @keyframes jumbo {
    from {
      background-position: 50% 50%, 50% 50%;
    }
    to {
      background-position: 350% 50%, 350% 50%;
    }
  }

  .animate-first {
      animation: first 15s ease infinite;
  }
  .animate-second {
      animation: second 15s ease infinite;
  }
  .animate-third {
      animation: third 15s ease infinite;
  }
  .animate-fourth {
      animation: fourth 15s ease infinite;
  }
  .animate-fifth {
      animation: fifth 15s ease infinite;
  }

  @keyframes first {
    0% {
      transform: translate(0px, 0px);
    }
    20% {
      transform: translate(80px, -100px);
    }
    40% {
      transform: translate(140px, 40px);
    }
    60% {
      transform: translate(80px, 120px);
    }
    80% {
      transform: translate(-40px, 80px);
    }
    100% {
      transform: translate(0px, 0px);
    }
  }
  @keyframes second {
    0% {
      transform: translate(0px, 0px);
    }
    20% {
      transform: translate(-100px, 80px);
    }
    40% {
      transform: translate(40px, 140px);
    }
    60% {
      transform: translate(120px, 90px);
    }
    80% {
      transform: translate(80px, -40px);
    }
    100% {
      transform: translate(0px, 0px);
    }
  }
  @keyframes third {
    0% {
      transform: translate(0px, 0px);
    }
    20% {
      transform: translate(100px, -80px);
    }
    40% {
      transform: translate(-40px, -140px);
    }
    60% {
      transform: translate(-120px, -90px);
    }
    80% {
      transform: translate(-80px, 40px);
    }
    100% {
      transform: translate(0px, 0px);
    }
  }
  @keyframes fourth {
    0% {
      transform: translate(0px, 0px);
    }
    20% {
      transform: translate(-20px, -120px);
    }
    40% {
      transform: translate(100px, -40px);
    }
    60% {
      transform: translate(120px, 60px);
    }
    80% {
      transform: translate(40px, 80px);
    }
    100% {
      transform: translate(0px, 0px);
    }
  }
  @keyframes fifth {
    0% {
      transform: translate(0px, 0px);
    }
    20% {
      transform: translate(40px, 120px);
    }
    40% {
      transform: translate(-100px, 60px);
    }
    60% {
      transform: translate(-120px, -80px);
    }
    80% {
      transform: translate(-60px, -40px);
    }
    100% {
      transform: translate(0px, 0px);
    }
  }

  /* Chatbox positioning */
  .chatbox {
    position: fixed;          /* Fix it to the viewport */
    bottom: 80px;             /* Distance from bottom â€” adjust until it sits in the pink glow */
    left: 50%;                /* Start at the center horizontally */
    transform: translateX(-50%);  /* Perfectly center it */
    width: 60%;               /* Adjust width (e.g., 60% of screen) */
    max-width: 800px;         /* Keep it from being too wide */
    border-radius: 16px;      /* Rounded corners */
    box-shadow: 0 8px 24px rgba(0,0,0,0.2); /* Floating shadow */
    z-index: 9999;            /* Keep it above other elements */
  }

  /* Reserve space for the fixed composer */
  .chat-scroll {
    padding-bottom: calc(var(--composer-height, 140px) + env(safe-area-inset-bottom, 20px));
  }

  /* Pin composer above safe area */
  .chat-composer {
    position: sticky;
    bottom: 0;
    width: 100%;
    background-color: transparent; /* Or match your page background */
    padding-bottom: env(safe-area-inset-bottom, 20px);
    padding-top: 1rem;
    max-width: 800px;
    margin: 0 auto;
    z-index: 9999;
  }

  /* Optional: when an input is focused, add extra room to avoid keyboard overlap via a focus class you toggle in JS */
  .chat-scroll.keyboard-open {
    padding-bottom: calc(var(--composer-height, 88px) + 240px);
  }
}
